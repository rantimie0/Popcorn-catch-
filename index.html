<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
  <title>Popcorn Catch PLUS</title>
  <meta name="theme-color" content="#0b0b0b"/>
  <link rel="manifest" href="manifest.webmanifest"/>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header>
    <h1>ğŸ¿ Popcorn Catch <span class="plus">PLUS</span></h1>
    <nav>
      <button id="btnInstall" class="chip">Install</button>
      <button id="btnHow" class="chip">How to play</button>
      <button id="btnStore" class="chip">Store</button>
      <button id="btnSkins" class="chip">Skins</button>
      <button id="btnMute" class="chip">ğŸ”Š</button>
    </nav>
  </header>

  <main>
    <canvas id="game" width="360" height="600" aria-label="Game canvas"></canvas>

    <div class="hud">
      <div><strong>Score:</strong> <span id="score">0</span></div>
      <div><strong>Best:</strong> <span id="best">0</span></div>
      <div><strong>Lives:</strong> <span id="lives">5</span></div>
      <div class="gem"><span>ğŸ’</span> <b id="gems">0</b></div>
      <div class="lvl"><strong>Lv</strong> <span id="level">1</span></div>
    </div>

    <div class="cta-row">
      <button id="pause" class="primary">â¯</button>
      <button id="btnShare" class="primary">Share score</button>
      <a id="btnWA" class="link" href="#" target="_blank" rel="noopener">Share on WhatsApp</a>
    </div>
  </main>

  <dialog id="how">
    <h2>How to play</h2>
    <p>Slide your finger/mouse to move the bucket. Catch <b>food</b>, avoid <b>burnt</b> kernels. Background changes every few levels ğŸŒˆ.</p>
    <ul>
      <li>â­ Double points (8s)</li>
      <li>ğŸ•‘ Slow-mo (6s)</li>
      <li>ğŸ›¡ï¸ Shield (blocks one hit)</li>
      <li>ğŸ’ Earn gems: +1 every 10 points (boosted by some skins)</li>
    </ul>
    <button id="closeHow" class="primary">Start</button>
  </dialog>

  <dialog id="store">
    <h2>Store</h2>
    <p>Gems: <b id="gemsStore">0</b> ğŸ’</p>
    <div class="shop">
      <h3>Permanent Upgrades</h3>
      <button class="buy" data-key="perm_bigBucket" data-cost="30">ğŸª£ Bigger Bucket (30ğŸ’)</button>
      <button class="buy" data-key="perm_slowStart" data-cost="30">ğŸ¢ Slow Start (30ğŸ’)</button>
      <button class="buy" data-key="perm_extraLife" data-cost="80">â¤ï¸ +1 Max Life (80ğŸ’)</button>
      <h3>Start Power-Ups</h3>
      <button class="buy" data-key="start_star" data-cost="20">â­ Start with Double Points (20ğŸ’)</button>
      <button class="buy" data-key="start_clock" data-cost="20">ğŸ•‘ Start with Slow-mo (20ğŸ’)</button>
      <button class="buy" data-key="start_shield" data-cost="20">ğŸ›¡ï¸ Start with Shield (20ğŸ’)</button>
    </div>
    <small>Purchases save on your device.</small><br><br>
    <button id="closeStore" class="primary">Close</button>
  </dialog>

  <dialog id="skins">
    <h2>Skins</h2>
    <p>Select a bucket skin (perks apply while selected):</p>
    <div class="skins">
      <button class="skin" data-id="classic">Classic â€” no perk</button>
      <button class="skin" data-id="wide">Wide Bucket â€” +12px width</button>
      <button class="skin" data-id="gemBoost">Gem Boost â€” gem every <b>8</b> points</button>
      <button class="skin" data-id="coolStart">Cool Start â€” slower at level 1â€“2</button>
    </div>
    <small>Skins are free for now ğŸ’›</small><br><br>
    <button id="closeSkins" class="primary">Close</button>
  </dialog>

  <footer>
    <small>&copy; <span id="year"></span> Jade Games â€¢ Built with ğŸ’›</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
